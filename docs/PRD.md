# 로컬 카페 미니앱 PRD (Product Requirements Document)

## 개요

**앱 이름**: local-cafe (가칭)
**플랫폼**: 앱인토스 미니앱 (토스 앱 내 동작)
**프레임워크**: React Native (Granite 기반)

토스 앱 사용자가 지역 카페를 이용할 때 **스탬프 쿠폰 적립**과 **모바일 오더(사이렌 오더)**를 할 수 있는 미니앱

---

## 핵심 기능

### 1. 스탬프 쿠폰 시스템
- 카페별 스탬프 적립 (예: 10개 적립 시 1잔 무료)
- QR코드 스캔으로 스탬프 적립
- 적립 현황 확인
- 쿠폰 사용

### 2. 모바일 오더 (사이렌 오더)
- 메뉴 조회 및 선택
- 옵션 선택 (사이즈, 샷 추가, 시럽 등)
- 장바구니
- 결제 (토스페이먼츠 연동)
- 주문 상태 확인 (접수됨 → 제조중 → 완료)
- 픽업 알림

---

## 사용자 유형

### 고객 (Consumer)
- 토스 앱 사용자
- 카페 검색 및 즐겨찾기
- 스탬프 적립/사용
- 모바일 오더 및 결제

### 카페 사장/직원 (Merchant)
- 카페 정보 등록/수정
- 메뉴 등록/수정
- 쿠폰 정책 설정 (몇 개 적립 시 무료 등)
- 주문 접수/관리
- 매출 현황 확인

---

## 화면 구조 (Information Architecture)

```
intoss://local-cafe
├── / (홈)
│   ├── 내 주변 카페 목록
│   ├── 내 쿠폰 요약
│   └── 최근 주문
│
├── /cafe/[id] (카페 상세)
│   ├── 카페 정보
│   ├── 메뉴 목록
│   └── 내 스탬프 현황
│
├── /cafe/[id]/order (주문하기)
│   ├── 메뉴 선택
│   ├── 옵션 선택
│   └── 장바구니
│
├── /checkout (결제)
│   ├── 주문 확인
│   ├── 쿠폰 적용
│   └── 결제 수단 선택
│
├── /orders (내 주문 내역)
│   └── /orders/[id] (주문 상세/실시간 상태)
│
├── /coupons (내 쿠폰함)
│   └── 카페별 스탬프 현황
│
└── /merchant (사장님 전용)
    ├── /merchant/menu (메뉴 관리)
    ├── /merchant/orders (주문 관리)
    ├── /merchant/coupon-policy (쿠폰 정책)
    └── /merchant/stats (매출 통계)
```

---

## 기술 스택

### Frontend (미니앱)
- React Native (Granite Framework)
- @apps-in-toss/framework
- TDS (Toss Design System)

### Backend (별도 구축 필요)
- API 서버 (Node.js/NestJS 또는 Python/FastAPI)
- 데이터베이스 (PostgreSQL)
- 실시간 통신 (WebSocket - 주문 상태 업데이트)

### 결제
- 토스페이먼츠 API 연동

### 인프라
- 클라우드 (AWS / GCP / 토스 클라우드?)

---

## MVP 범위 (1차 출시)

### Phase 1: 핵심 기능
1. [ ] 고객: 카페 목록 조회
2. [ ] 고객: 메뉴 조회
3. [ ] 고객: 모바일 오더 (주문 + 결제)
4. [ ] 고객: 주문 상태 확인
5. [ ] 사장님: 메뉴 등록
6. [ ] 사장님: 주문 접수/완료 처리

### Phase 2: 쿠폰 시스템
7. [ ] 스탬프 적립 (QR 스캔)
8. [ ] 쿠폰 사용
9. [ ] 쿠폰 정책 설정

### Phase 3: 고도화
10. [ ] 카페 검색/필터
11. [ ] 즐겨찾기
12. [ ] 리뷰 시스템
13. [ ] 푸시 알림
14. [ ] 매출 통계

---

## 비즈니스 모델

### 미션
> 소규모 카페의 성장을 돕고, 수익을 함께 나눈다

### 수익 구조

| 구분 | 내용 | 비용 |
|------|------|------|
| 기본 기능 | 주문, 쿠폰, 결제 | **무료** |
| 거래 수수료 | 결제 금액의 | **0% ~ 1%** |
| 프리미엄 (선택) | 마케팅, 분석 도구 | 월 9,900원 |

### 카페가 얻는 가치
- 종이 쿠폰 비용 절감 → 디지털 쿠폰 무료
- 전화 주문 실수 → 앱 주문으로 정확한 주문
- 대기 줄 → 모바일 오더로 회전율 UP
- 단골 관리 → 자동 적립으로 재방문 유도

### 장기 수익원 (카페 부담 없음)
- 원두/재료 공동구매 중개
- B2B 광고 (원두 업체 등)
- 토스 제휴 프로그램

---

## 결정 사항

| 항목 | 결정 | 비고 |
|------|------|------|
| 사장님 앱 | 하나의 앱, 역할 전환 | 향후 분리 고려 |
| 백엔드 | Supabase | 빠른 구축, 실시간 지원 |
| 스탬프 적립 | 주문 시 자동 적립 | UX 간단 |
| 카페 입점 | 승인 후 등록 | 품질 관리 |

---

## 다음 단계

1. ~~미결정 사항 논의~~ ✓
2. 프로젝트 스캐폴딩
3. Supabase 스키마 설계
4. 미니앱 개발
5. 테스트 (샌드박스)
6. 토스앱 출시
